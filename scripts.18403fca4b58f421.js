!function(R){var P=R.noise={};function M(r,a,v){this.x=r,this.y=a,this.z=v}M.prototype.dot2=function(r,a){return this.x*r+this.y*a},M.prototype.dot3=function(r,a,v){return this.x*r+this.y*a+this.z*v};var S=[new M(1,1,0),new M(-1,1,0),new M(1,-1,0),new M(-1,-1,0),new M(1,0,1),new M(-1,0,1),new M(1,0,-1),new M(-1,0,-1),new M(0,1,1),new M(0,-1,1),new M(0,1,-1),new M(0,-1,-1)],Q=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],t=new Array(512),n=new Array(512);P.seed=function(r){r>0&&r<1&&(r*=65536),(r=Math.floor(r))<256&&(r|=r<<8);for(var a=0;a<256;a++){var v;t[a]=t[a+256]=v=1&a?Q[a]^255&r:Q[a]^r>>8&255,n[a]=n[a+256]=S[v%12]}},P.seed(0);var T=.5*(Math.sqrt(3)-1),Z=(3-Math.sqrt(3))/6,m=1/6;function b(r){return r*r*r*(r*(6*r-15)+10)}function k(r,a,v){return(1-v)*r+v*a}P.simplex2=function(r,a){var G,h,f=(r+a)*T,c=Math.floor(r+f),p=Math.floor(a+f),u=(c+p)*Z,l=r-c+u,s=a-p+u;l>s?(G=1,h=0):(G=0,h=1);var d=l-G+Z,i=s-h+Z,g=l-1+2*Z,w=s-1+2*Z,A=n[(c&=255)+G+t[(p&=255)+h]],F=n[c+1+t[p+1]],j=.5-l*l-s*s,X=.5-d*d-i*i,Y=.5-g*g-w*w;return 70*((j<0?0:(j*=j)*j*n[c+t[p]].dot2(l,s))+(X<0?0:(X*=X)*X*A.dot2(d,i))+(Y<0?0:(Y*=Y)*Y*F.dot2(g,w)))},P.simplex3=function(r,a,v){var g,w,q,A,F,j,p=.3333333333333333*(r+a+v),u=Math.floor(r+p),l=Math.floor(a+p),s=Math.floor(v+p),G=(u+l+s)*m,h=r-u+G,d=a-l+G,i=v-s+G;h>=d?d>=i?(g=1,w=0,q=0,A=1,F=1,j=0):h>=i?(g=1,w=0,q=0,A=1,F=0,j=1):(g=0,w=0,q=1,A=1,F=0,j=1):d<i?(g=0,w=0,q=1,A=0,F=1,j=1):h<i?(g=0,w=1,q=0,A=0,F=1,j=1):(g=0,w=1,q=0,A=1,F=1,j=0);var X=h-g+m,Y=d-w+m,H=i-q+m,I=h-A+2*m,J=d-F+2*m,K=i-j+2*m,L=h-1+.5,N=d-1+.5,O=i-1+.5,W=n[(u&=255)+g+t[(l&=255)+w+t[(s&=255)+q]]],_=n[u+A+t[l+F+t[s+j]]],$=n[u+1+t[l+1+t[s+1]]],B=.6-h*h-d*d-i*i,C=.6-X*X-Y*Y-H*H,D=.6-I*I-J*J-K*K,E=.6-L*L-N*N-O*O;return 32*((B<0?0:(B*=B)*B*n[u+t[l+t[s]]].dot3(h,d,i))+(C<0?0:(C*=C)*C*W.dot3(X,Y,H))+(D<0?0:(D*=D)*D*_.dot3(I,J,K))+(E<0?0:(E*=E)*E*$.dot3(L,N,O)))},P.perlin2=function(r,a){var v=Math.floor(r),o=Math.floor(a);r-=v,a-=o;var e=n[(v&=255)+t[o&=255]].dot2(r,a),f=n[v+t[o+1]].dot2(r,a-1),c=n[v+1+t[o]].dot2(r-1,a),p=n[v+1+t[o+1]].dot2(r-1,a-1),u=b(r);return k(k(e,c,u),k(f,p,u),b(a))},P.perlin3=function(r,a,v){var o=Math.floor(r),e=Math.floor(a),f=Math.floor(v);r-=o,a-=e,v-=f;var c=n[(o&=255)+t[(e&=255)+t[f&=255]]].dot3(r,a,v),p=n[o+t[e+t[f+1]]].dot3(r,a,v-1),u=n[o+t[e+1+t[f]]].dot3(r,a-1,v),l=n[o+t[e+1+t[f+1]]].dot3(r,a-1,v-1),s=n[o+1+t[e+t[f]]].dot3(r-1,a,v),G=n[o+1+t[e+t[f+1]]].dot3(r-1,a,v-1),h=n[o+1+t[e+1+t[f]]].dot3(r-1,a-1,v),d=n[o+1+t[e+1+t[f+1]]].dot3(r-1,a-1,v-1),i=b(r),g=b(a),w=b(v);return k(k(k(c,s,i),k(p,G,i),w),k(k(u,h,i),k(l,d,i),w),g)}}(this);